name: Update Submodule with "Hello World"

on:
  workflow_dispatch:

jobs:
  update-submodule:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout main repository with submodules
      uses: actions/checkout@v4
      with:
        submodules: recursive # Ensures submodules are fetched and updated

    - name: Navigate to submodule and create "hello_world.txt"
      run: |
        cd dbr-e621-lists-archive
        echo "hello world" > hello_world.txt
        git add hello_world.txt
        git commit -m "Add hello_world.txt"
        git push
      env:
        GITHUB_TOKEN: ${{ secrets.GH_PAT }}
